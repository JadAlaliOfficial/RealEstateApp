import{j as e,L as N,a as b}from"./app-D539PDEN.js";import{B as l}from"./badge-C4iQTRbR.js";import{B as i}from"./button--IN0CSyb.js";import{b as w,e as t}from"./table-CA4rUWkX.js";import{E as x}from"./eye-CZjSPmqV.js";import{E as y}from"./eye-off-IIUegSlt.js";import{S as _}from"./square-pen-E6zB1bZE.js";import{T as S}from"./trash-2-B94tWSse.js";import"./app-DvnMLx2o.js";import"./index-CituRSkQ.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-4b2xxMBa.js";function H({task:r,formatDateOnly:c,onEdit:h,onDelete:f,permissions:n,filters:u}){const j=o=>e.jsx(l,{variant:o==="Yes"?"destructive":"secondary",children:o}),g=o=>{const d=o??null;if(!d)return e.jsx(l,{variant:"outline",children:"No Status"});const s=d.toLowerCase().includes("completed")?"default":d.toLowerCase().includes("pending")?"secondary":"outline";return e.jsx(l,{variant:s,children:d})},m=()=>{const o={};return Object.entries(u||{}).forEach(([d,s])=>{s!=null&&s!==""&&(o[d]=String(s))}),o},v=()=>{confirm("Are you sure you want to hide this task?")&&b.patch(route("vendor-task-tracker.hide",r.id),{redirect_filters:m()},{preserveState:!0,preserveScroll:!0})},p=()=>{confirm("Are you sure you want to unhide this task?")&&b.patch(route("vendor-task-tracker.unhide",r.id),{redirect_filters:m()},{preserveState:!0,preserveScroll:!0})};return e.jsxs(w,{className:"border-border hover:bg-muted/50",children:[e.jsx(t,{className:"sticky left-0 z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.city||"-"}),e.jsx(t,{className:"sticky left-[120px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.property_name||"-"}),e.jsx(t,{className:"sticky left-[270px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.unit_name||"-"}),e.jsx(t,{className:"sticky left-[390px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.vendor_name||"-"}),e.jsx(t,{className:"border border-border text-center text-foreground",children:c(r.task_submission_date)}),e.jsx(t,{className:"border border-border text-center text-foreground",children:e.jsx("div",{className:"max-w-32 truncate",title:r.assigned_tasks||"",children:r.assigned_tasks||"-"})}),e.jsx(t,{className:"border border-border text-center text-foreground",children:c(r.any_scheduled_visits)}),e.jsx(t,{className:"border border-border text-center text-foreground",children:c(r.task_ending_date)}),e.jsx(t,{className:"border border-border text-center text-foreground",children:e.jsx("div",{className:"max-w-24 truncate",title:r.notes||"",children:r.notes||"-"})}),e.jsx(t,{className:"border border-border text-center",children:g(r.status)}),e.jsx(t,{className:"border border-border text-center",children:j(r.urgent)}),n.hasAnyPermission&&e.jsx(t,{className:"border border-border text-center",children:e.jsxs("div",{className:"flex gap-1",children:[n.canView&&e.jsx(N,{href:route("vendor-task-tracker.show",r.id)+(()=>{const o={};Object.entries(u||{}).forEach(([s,a])=>{a!=null&&a!==""&&(o[s]=String(a))});const d=new URLSearchParams(o).toString();return d?`?${d}`:""})(),children:e.jsx(i,{variant:"outline",size:"sm",children:e.jsx(x,{className:"h-4 w-4"})})}),n.canEdit&&!r.is_hidden&&e.jsx(i,{variant:"outline",size:"sm",onClick:v,title:"Hide",className:"border-yellow-200 text-yellow-600 hover:bg-yellow-50 dark:border-yellow-900 dark:text-yellow-400 dark:hover:bg-yellow-950",children:e.jsx(y,{className:"h-4 w-4"})}),n.canEdit&&r.is_hidden&&e.jsx(i,{variant:"outline",size:"sm",onClick:p,title:"Unhide",className:"border-blue-200 text-blue-600 hover:bg-blue-50 dark:border-blue-900 dark:text-blue-400 dark:hover:bg-blue-950",children:e.jsx(x,{className:"h-4 w-4"})}),n.canEdit&&e.jsx(i,{variant:"outline",size:"sm",onClick:()=>h(r),children:e.jsx(_,{className:"h-4 w-4"})}),n.canDelete&&e.jsx(i,{variant:"outline",size:"sm",onClick:()=>f(r),className:"border-destructive/20 text-destructive hover:bg-destructive/10 hover:text-destructive",children:e.jsx(S,{className:"h-4 w-4"})})]})})]})}export{H as default};
