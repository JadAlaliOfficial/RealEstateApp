import{r as N,a as M,j as e,H as te}from"./app-D539PDEN.js";import{A as re}from"./app-layout-5nhnzF34.js";import ie from"./ApplicationInformation-DH--hKhk.js";import ne from"./MoveInInformation-Bi8g01Do.js";import le from"./MoveOutInformation-Cj9GglQx.js";import ce from"./NoticesAndEvictionsInformation-BubkEzAH.js";import me from"./OffersAndRenewalsInformation-BhoMHCH5.js";import de from"./PaymentInformation-DBk8y6kk.js";import oe from"./PaymentPlanInformation-0TekTYVr.js";import xe from"./TenantInformation-CX7Wxpa4.js";import pe from"./VendorTasksInformation-Byc55P_r.js";import{B as w}from"./button--IN0CSyb.js";import{B as g}from"./badge-C4iQTRbR.js";import{C as c,a as C,b as _,d as A,c as O}from"./card-DlPrY5i9.js";import{P as B,a as F,b as H}from"./popover-uWV6s5Ev.js";import{C as L,a as R,c as U,b as $,d as z,e as Z}from"./command-CjlHw1Dl.js";import{S as b}from"./separator-BJXowvev.js";import{c as E}from"./utils-CBfrqCZ4.js";import{C as he,a as ge,b as ue}from"./collapsible-D7QLEazv.js";import{B as W}from"./building-2-BTPIlMEv.js";import{M as je}from"./map-pin-oQxz4ijA.js";import{C as V}from"./chevrons-up-down-28SbtDvw.js";import{C as P}from"./check-tZNcpeuV.js";import{H as D}from"./house-tkF6Q1eJ.js";import{C as fe}from"./chevron-up-BJSubxpl.js";import{C as Ne}from"./chevron-down-B9OnTpGY.js";import{c as be}from"./createLucideIcon-4b2xxMBa.js";import{D as ye}from"./dollar-sign-DndUVZbp.js";import{C as y}from"./calendar-pGwOw633.js";import{Z as ve}from"./zap-BQv4mjN9.js";import{S as G}from"./shield-DuJaYr4X.js";import{c as ke,t as J,m as q,a as K,f as we}from"./format-DUNHsrA7.js";import"./app-DvnMLx2o.js";import"./index-CituRSkQ.js";import"./index-MQL96Sqq.js";import"./index-BA2VIff1.js";import"./index-D9RoX9VL.js";import"./index-Coh7aVBC.js";import"./index-DECShoH4.js";import"./index-u_jnU6es.js";import"./x-DO94m97V.js";import"./index-Dc_FVRD7.js";import"./index-CvrhNEbR.js";import"./index-BtSfnK06.js";import"./index-BUulcyCA.js";import"./chevron-right-B8Ihb2tS.js";import"./index-BWOOmq3Y.js";import"./log-out-ChTmT5kx.js";import"./app-logo-icon-OsMzeLDo.js";import"./building-CG36zKrR.js";import"./users-BBWCwltq.js";import"./wrench-BtUc9pEp.js";import"./credit-card-COHSy4cr.js";import"./file-text-rLI6HIgs.js";import"./triangle-alert-BTPxwKAw.js";import"./bell-BUfx3pTP.js";import"./user-Bn5wbf4y.js";import"./target-ByPAC8OA.js";import"./archive-laXb_Y4h.js";import"./circle-x-BglrGJbY.js";import"./circle-check-big-CITrH2-m.js";import"./sticky-note-5z0aNJ0M.js";import"./clock-DhsKxb34.js";import"./eye-CZjSPmqV.js";import"./circle-alert-BnkHFttE.js";import"./file-check-CeP9XWbn.js";import"./key-KlEurqtJ.js";import"./trending-up-BxOfH1YU.js";import"./rotate-ccw-Ds34g7Tx.js";import"./phone-BOfzwoJU.js";import"./search-Dil3k9X7.js";const Ce=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],_e=be("Hash",Ce);function De(t,s){const a=()=>ke(s?.in,NaN),n=Me(t);let d;if(n.date){const m=Ae(n.date,2);d=Oe(m.restDateString,m.year)}if(!d||isNaN(+d))return a();const h=+d;let x=0,p;if(n.time&&(x=Be(n.time),isNaN(x)))return a();if(n.timezone){if(p=Fe(n.timezone),isNaN(p))return a()}else{const m=new Date(h+x),u=J(0,s?.in);return u.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),u.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),u}return J(h+x+p,s?.in)}const v={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Se=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Te=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Me(t){const s={},a=t.split(v.dateTimeDelimiter);let r;if(a.length>2)return s;if(/:/.test(a[0])?r=a[0]:(s.date=a[0],r=a[1],v.timeZoneDelimiter.test(s.date)&&(s.date=t.split(v.timeZoneDelimiter)[0],r=t.substr(s.date.length,t.length))),r){const n=v.timezone.exec(r);n?(s.time=r.replace(n[1],""),s.timezone=n[1]):s.time=r}return s}function Ae(t,s){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+s)+"})|(\\d{2}|[+-]\\d{"+(2+s)+"})$)"),r=t.match(a);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,d=r[2]?parseInt(r[2]):null;return{year:d===null?n:d*100,restDateString:t.slice((r[1]||r[2]).length)}}function Oe(t,s){if(s===null)return new Date(NaN);const a=t.match(Se);if(!a)return new Date(NaN);const r=!!a[4],n=f(a[1]),d=f(a[2])-1,h=f(a[3]),x=f(a[4]),p=f(a[5])-1;if(r)return $e(s,x,p)?He(s,x,p):new Date(NaN);{const m=new Date(0);return!Re(s,d,h)||!Ue(s,n)?new Date(NaN):(m.setUTCFullYear(s,d,Math.max(n,h)),m)}}function f(t){return t?parseInt(t):1}function Be(t){const s=t.match(Te);if(!s)return NaN;const a=S(s[1]),r=S(s[2]),n=S(s[3]);return ze(a,r,n)?a*q+r*K+n*1e3:NaN}function S(t){return t&&parseFloat(t.replace(",","."))||0}function Fe(t){if(t==="Z")return 0;const s=t.match(Ye);if(!s)return 0;const a=s[1]==="+"?-1:1,r=parseInt(s[2]),n=s[3]&&parseInt(s[3])||0;return Ze(r,n)?a*(r*q+n*K):NaN}function He(t,s,a){const r=new Date(0);r.setUTCFullYear(t,0,4);const n=r.getUTCDay()||7,d=(s-1)*7+a+1-n;return r.setUTCDate(r.getUTCDate()+d),r}const Le=[31,null,31,30,31,30,31,31,30,31,30,31];function Q(t){return t%400===0||t%4===0&&t%100!==0}function Re(t,s,a){return s>=0&&s<=11&&a>=1&&a<=(Le[s]||(Q(t)?29:28))}function Ue(t,s){return s>=1&&s<=(Q(t)?366:365)}function $e(t,s,a){return s>=1&&s<=53&&a>=0&&a<=6}function ze(t,s,a){return t===24?s===0&&a===0:a>=0&&a<60&&s>=0&&s<60&&t>=0&&t<25}function Ze(t,s){return s>=0&&s<=59}function T(t){if(!t)return"N/A";try{return we(De(t),"MMM dd, yyyy")}catch{return t}}function ns({properties:t,units:s,unitInfo:a,tenants:r,moveIns:n,moveOuts:d,vendorTasks:h,payments:x,paymentPlans:p,applications:m,offersAndRenewals:u,noticesAndEvictions:X,selectedPropertyId:o,selectedUnitId:l}){const I=N.useCallback(()=>{const i=[{title:"Dashboard",href:"/dashboard"}];if(o){const j=t.find(k=>k.id===o);j&&i.push({title:j.property_name,href:`/dashboard?property_id=${o}`})}if(l){const j=s.find(k=>k.id===l);j&&i.push({title:j.unit_name,href:`/dashboard?property_id=${o}&unit_id=${l}`})}return i},[o,l,t,s]),ee=N.useCallback(i=>{M.get("/dashboard",{property_id:parseInt(i)},{preserveState:!0,preserveScroll:!0})},[]),ae=N.useCallback(i=>{M.get("/dashboard",{property_id:o,unit_id:parseInt(i)},{preserveState:!0,preserveScroll:!0})},[o]),[Y,se]=N.useState(!0);return e.jsxs(re,{breadcrumbs:I(),children:[e.jsx(te,{title:"Dashboard"}),e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl space-y-6",children:[e.jsx(c,{className:"border-0 bg-gradient-to-r from-blue-50 to-indigo-50 shadow-sm dark:from-blue-950/20 dark:to-indigo-950/20",children:e.jsx(C,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-2 dark:bg-blue-900/30",children:e.jsx(W,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(_,{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Property Management Dashboard"}),e.jsx(A,{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Select a property and unit to view comprehensive tenant information and analytics."})]})]})})}),e.jsx("div",{className:"sticky top-0 z-30 -mx-4 px-4 py-2 border-b border-gray-200/50 bg-white/95 backdrop-blur-sm supports-[backdrop-filter]:bg-white/80 dark:border-gray-800/50 dark:bg-gray-950/95 dark:supports-[backdrop-filter]:bg-gray-950/80",children:e.jsxs(c,{className:"border shadow-lg",children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),e.jsx(_,{className:"text-lg font-semibold",children:"Property Selection"})]})}),e.jsx(O,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(W,{className:"h-4 w-4"}),"Property"]}),e.jsxs(B,{children:[e.jsx(F,{asChild:!0,children:e.jsxs(w,{variant:"outline",role:"combobox",className:"w-full justify-between text-left font-normal",children:[o?t.find(i=>i.id===o)?.property_name:"Select a property...",e.jsx(V,{className:"ml-2 h-4 w-4 opacity-50"})]})}),e.jsx(H,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:e.jsxs(L,{children:[e.jsx(R,{placeholder:"Search property..."}),e.jsxs(U,{children:[e.jsx($,{children:"No property found."}),e.jsx(z,{children:t.map(i=>e.jsxs(Z,{value:i.property_name,onSelect:()=>ee(i.id.toString()),children:[e.jsx(P,{className:E("mr-2 h-4 w-4",o===i.id?"opacity-100":"opacity-0")}),i.property_name]},i.id))})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(D,{className:"h-4 w-4"}),"Unit"]}),e.jsxs(B,{children:[e.jsx(F,{asChild:!0,children:e.jsxs(w,{variant:"outline",role:"combobox",className:"w-full justify-between text-left font-normal",disabled:!o||s.length===0,children:[l?s.find(i=>i.id===l)?.unit_name:o?s.length===0?"No units available":"Select a unit...":"Select property first",e.jsx(V,{className:"ml-2 h-4 w-4 opacity-50"})]})}),e.jsx(H,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:e.jsxs(L,{children:[e.jsx(R,{placeholder:"Search unit..."}),e.jsxs(U,{children:[e.jsx($,{children:"No unit found."}),e.jsx(z,{children:s.map(i=>e.jsxs(Z,{value:i.unit_name,onSelect:()=>ae(i.id.toString()),children:[e.jsx(P,{className:E("mr-2 h-4 w-4",l===i.id?"opacity-100":"opacity-0")}),e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsx("span",{children:i.unit_name}),e.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[e.jsx(g,{variant:i.vacant==="Yes"?"default":"secondary",children:i.vacant==="Yes"?"Vacant":"Occupied"}),i.monthly_rent&&e.jsxs("span",{className:"text-sm text-gray-500",children:["$",i.monthly_rent]})]})]})]},i.id))})]})]})})]})]})]})})]})}),a&&e.jsx(he,{open:Y,onOpenChange:se,children:e.jsxs(c,{className:"transition-all duration-200 hover:shadow-md",children:[e.jsx(ge,{asChild:!0,children:e.jsx(w,{variant:"ghost",className:"w-full p-0 h-auto hover:bg-transparent",children:e.jsx(C,{className:"w-full",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-gray-100 dark:bg-gray-900",children:e.jsx(D,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),e.jsxs("div",{className:"text-left",children:[e.jsx(_,{className:"text-xl font-semibold",children:"Unit Information"}),e.jsxs(A,{children:["Comprehensive details for ",a.unit_name]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(g,{variant:a.vacant==="Yes"?"default":"destructive",className:"px-3 py-1",children:a.vacant==="Yes"?"Vacant":"Occupied"}),Y?e.jsx(fe,{className:"h-5 w-5 text-gray-500"}):e.jsx(Ne,{className:"h-5 w-5 text-gray-500"})]})]})})})}),e.jsx(ue,{children:e.jsxs(O,{className:"pt-0",children:[e.jsx(b,{className:"mb-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(_e,{className:"h-4 w-4"}),"Basic Details"]}),e.jsx("div",{className:"space-y-3",children:a.vacant==="Yes"&&e.jsxs(c,{className:"bg-gray-50 p-4 dark:bg-gray-900",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-gray-500 uppercase dark:text-gray-400",children:"Listed Status"}),e.jsx(g,{variant:a.listed==="Yes"?"default":"secondary",children:a.listed||"No"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(D,{className:"h-4 w-4"}),"Unit Specs"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-blue-50 p-4 dark:bg-blue-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-blue-600 uppercase dark:text-blue-400",children:"Bedrooms"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:a.count_beds||"N/A"})]}),e.jsxs(c,{className:"bg-purple-50 p-4 dark:bg-purple-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-purple-600 uppercase dark:text-purple-400",children:"Bathrooms"}),e.jsx("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:a.count_baths||"N/A"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(ye,{className:"h-4 w-4"}),"Financial"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-green-50 p-4 dark:bg-green-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-green-600 uppercase dark:text-green-400",children:"Monthly Rent"}),e.jsx("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:a.formatted_monthly_rent||"N/A"})]}),e.jsxs(c,{className:"bg-amber-50 p-4 dark:bg-amber-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-amber-600 uppercase dark:text-amber-400",children:"Applications"}),e.jsxs(g,{variant:"outline",className:"text-sm",children:[a.total_applications||0," total"]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(y,{className:"h-4 w-4"}),"Lease & Utilities"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(c,{className:"bg-indigo-50 p-4 dark:bg-indigo-950/20",children:[e.jsx("div",{className:"mb-1 text-xs font-medium tracking-wide text-indigo-600 uppercase dark:text-indigo-400",children:"Lease Status"}),e.jsx("div",{className:"font-semibold text-indigo-900 dark:text-indigo-100",children:a.lease_status||"N/A"})]}),e.jsxs(c,{className:"bg-yellow-50 p-4 dark:bg-yellow-950/20",children:[e.jsxs("div",{className:"mb-1 flex items-center gap-1 text-xs font-medium tracking-wide text-yellow-600 uppercase dark:text-yellow-400",children:[e.jsx(ve,{className:"h-3 w-3"}),"Utilities"]}),e.jsx("div",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:a.utility_status||"N/A"})]})]})]})]}),(a.lease_start||a.lease_end)&&e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"my-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.lease_start&&e.jsxs(c,{className:"bg-blue-50 p-4 dark:bg-blue-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-blue-600 uppercase dark:text-blue-400",children:"Lease Start"})]}),e.jsx("div",{className:"font-semibold text-blue-900 dark:text-blue-100",children:T(a.lease_start)})]}),a.lease_end&&e.jsxs(c,{className:"bg-orange-50 p-4 dark:bg-orange-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-orange-600 uppercase dark:text-orange-400",children:"Lease End"})]}),e.jsx("div",{className:"font-semibold text-orange-900 dark:text-orange-100",children:T(a.lease_end)})]})]})]}),(a.insurance||a.insurance_expiration_date)&&e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"my-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(G,{className:"h-4 w-4"}),"Insurance Information"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs(c,{className:"bg-emerald-50 p-4 dark:bg-emerald-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-emerald-600 uppercase dark:text-emerald-400",children:"Coverage Status"})]}),e.jsx(g,{variant:a.insurance==="Yes"?"default":"destructive",children:a.insurance||"No"})]}),a.insurance_expiration_date&&e.jsxs(c,{className:"bg-amber-50 p-4 dark:bg-amber-950/20",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),e.jsx("div",{className:"text-xs font-medium tracking-wide text-amber-600 uppercase dark:text-amber-400",children:"Expiration Date"})]}),e.jsx("div",{className:"font-semibold text-amber-900 dark:text-amber-100",children:T(a.insurance_expiration_date)})]})]})]})]}),(a.recurring_transaction||a.account_number)&&e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"my-6"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.recurring_transaction&&e.jsxs(c,{className:"bg-purple-50 p-4 dark:bg-purple-950/20",children:[e.jsx("div",{className:"mb-2 text-xs font-medium tracking-wide text-purple-600 uppercase dark:text-purple-400",children:"Recurring Transaction"}),e.jsx(g,{variant:a.recurring_transaction==="Yes"?"default":"secondary",children:a.recurring_transaction||"No"})]}),a.account_number&&e.jsxs(c,{className:"bg-gray-50 p-4 dark:bg-gray-900",children:[e.jsx("div",{className:"mb-2 text-xs font-medium tracking-wide text-gray-500 uppercase dark:text-gray-400",children:"Account Number"}),e.jsx("code",{className:"font-mono text-sm font-semibold text-gray-900 dark:text-gray-100",children:a.account_number})]})]})]})]})})]})}),e.jsx(xe,{tenants:r,selectedUnitId:l}),e.jsx(ne,{moveIns:n,selectedUnitId:l}),e.jsx(le,{moveOuts:d,selectedUnitId:l}),e.jsx(pe,{vendorTasks:h,selectedUnitId:l}),e.jsx(de,{payments:x,selectedUnitId:l}),e.jsx(oe,{paymentPlans:p,selectedUnitId:l}),a?.vacant==="Yes"&&e.jsx(ie,{applications:m,selectedUnitId:l}),e.jsx(me,{offersAndRenewals:u,selectedUnitId:l}),e.jsx(ce,{noticesAndEvictions:X,selectedUnitId:l})]})})]})}export{ns as default};
