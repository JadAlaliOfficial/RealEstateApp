import{j as e,L as j}from"./app-DqMOGD98.js";import{B as b}from"./badge-CdyTx-24.js";import{B as d}from"./button-CnCxC_fs.js";import{b as g,e as s}from"./table-DhaitHv5.js";import{F as y}from"./file-text-DZtHCDd-.js";import{E as f}from"./eye-Hz_BelNN.js";import{S as v}from"./square-pen-DyjCcft1.js";import{E as p}from"./eye-off-TKSRjyRo.js";import{T as w}from"./trash-2-D82ivj7i.js";import{f as _}from"./format-DUNHsrA7.js";import"./app-Dca6SbuN.js";import"./index-BywuZfe1.js";import"./index-CdJFUDDL.js";import"./utils-CBfrqCZ4.js";import"./createLucideIcon-YTrgT1D8.js";const k=(r,n="-")=>{if(!r)return n;const a=/^(\d{4})-(\d{2})-(\d{2})/.exec(r);if(!a)return n;const[,c,i,m]=a,l=new Date(Number(c),Number(i)-1,Number(m));return _(l,"P")},z=r=>r?e.jsx(b,{variant:"default",children:r}):e.jsx(b,{variant:"outline",children:"No Status"});function J({application:r,onEdit:n,onDelete:a,onHide:c,onUnhide:i,hasViewPermission:m,hasEditPermission:l,hasDeletePermission:h,hasHidePermission:x,filters:t}){const u=r.attachments?.length||0,N=()=>{const o={application:r.id};return t&&(t.city&&(o.city=t.city),t.property&&(o.property=t.property),t.unit&&(o.unit=t.unit),t.name&&(o.name=t.name),t.applicant_applied_from&&(o.applicant_applied_from=t.applicant_applied_from),t.is_hidden&&(o.is_hidden="true")),route("applications.show",o)};return e.jsxs(g,{className:"border-border hover:bg-muted/50",children:[e.jsx(s,{className:"sticky left-0 z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.city}),e.jsx(s,{className:"sticky left-[120px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.property}),e.jsx(s,{className:"sticky left-[270px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.unit_name}),e.jsx(s,{className:"border border-border text-center text-foreground",children:r.name}),e.jsx(s,{className:"border border-border text-center text-foreground",children:r.co_signer||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(s,{className:"border border-border text-center",children:z(r.status)}),e.jsx(s,{className:"border border-border text-center text-foreground",children:r.applicant_applied_from||e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(s,{className:"border border-border text-center text-foreground",children:k(r.date)}),e.jsx(s,{className:"border border-border text-center text-foreground",children:r.stage_in_progress||"N/A"}),e.jsx(s,{className:"border border-border text-center",children:r.notes?e.jsx("div",{className:"max-w-24 truncate",title:r.notes,children:r.notes}):e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),e.jsx(s,{className:"border border-border text-center",children:u>0?e.jsxs(b,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(y,{className:"h-3 w-3"}),u," ",u===1?"file":"files"]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"No files"})}),(m||l||h||x)&&e.jsx(s,{className:"border border-border text-center",children:e.jsxs("div",{className:"flex justify-center gap-1",children:[m&&e.jsx(j,{href:N(),children:e.jsx(d,{variant:"outline",size:"sm",title:"View",children:e.jsx(f,{className:"h-4 w-4"})})}),l&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>n(r),title:"Edit",children:e.jsx(v,{className:"h-4 w-4"})}),x&&!r.is_hidden&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>c(r),className:"border-yellow-200 text-yellow-600 hover:bg-yellow-50 dark:border-yellow-900 dark:text-yellow-400 dark:hover:bg-yellow-950",title:"Hide",children:e.jsx(p,{className:"h-4 w-4"})}),x&&r.is_hidden&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>i(r),className:"border-blue-200 text-blue-600 hover:bg-blue-50 dark:border-blue-900 dark:text-blue-400 dark:hover:bg-blue-950",title:"Unhide",children:e.jsx(f,{className:"h-4 w-4"})}),h&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>a(r),className:"border-destructive/20 text-destructive hover:bg-destructive/10 hover:text-destructive",title:"Delete",children:e.jsx(w,{className:"h-4 w-4"})})]})})]})}export{J as default};
