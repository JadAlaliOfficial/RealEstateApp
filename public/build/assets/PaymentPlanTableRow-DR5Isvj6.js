import{j as e,L as N,a as m}from"./app-DqMOGD98.js";import{b as v,e as t}from"./table-DhaitHv5.js";import{B as o}from"./button-CnCxC_fs.js";import{u as g}from"./usePermissions-D3YX7w9A.js";import{f as w}from"./formatDate-CHPAyz9M.js";import k from"./StatusBadge-Bb0M5w5w.js";import{E as c}from"./eye-Hz_BelNN.js";import{S}from"./square-pen-DyjCcft1.js";import{E as z}from"./eye-off-TKSRjyRo.js";import{T as _}from"./trash-2-D82ivj7i.js";import"./app-Dca6SbuN.js";import"./utils-CBfrqCZ4.js";import"./index-BywuZfe1.js";import"./index-CdJFUDDL.js";import"./format-DUNHsrA7.js";import"./badge-CdyTx-24.js";import"./createLucideIcon-YTrgT1D8.js";const n=r=>r===null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(r));function J({plan:r,filters:s,perPage:u,currentPage:b,search:x,onEdit:p,onDelete:h}){const{hasPermission:d,hasAnyPermission:i,hasAllPermissions:y}=g(),a={search:x??null,city:s?.city??null,property:s?.property??null,unit:s?.unit??null,tenant:s?.tenant??null,is_hidden:s?.is_hidden?"true":null,per_page:u??null,page:b??null},l=i(["payment-plans.update","payment-plans.edit","payment-plans.hide"]),f=()=>{confirm("Are you sure you want to hide this payment plan?")&&m.patch(route("payment-plans.hide",r.id),a,{preserveState:!0,preserveScroll:!0})},j=()=>{confirm("Are you sure you want to unhide this payment plan?")&&m.patch(route("payment-plans.unhide",r.id),a,{preserveState:!0,preserveScroll:!0})};return e.jsxs(v,{className:"border-border hover:bg-muted/50",children:[e.jsx(t,{className:"sticky left-0 z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.city_name||"N/A"}),e.jsx(t,{className:"sticky left-[120px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.property}),e.jsx(t,{className:"sticky left-[270px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.unit}),e.jsx(t,{className:"sticky left-[390px] z-10 border border-border bg-muted text-center font-medium text-foreground",children:r.tenant}),e.jsx(t,{className:"border border-border text-center font-medium text-blue-600 dark:text-blue-400",children:n(r.amount)}),e.jsx(t,{className:"border border-border text-center text-green-600 dark:text-green-400",children:n(r.paid)}),e.jsx(t,{className:"border border-border text-center font-medium text-red-600 dark:text-red-400",children:n(r.left_to_pay)}),e.jsx(t,{className:"border border-border text-center",children:e.jsx(k,{status:r.status})}),e.jsx(t,{className:"border border-border text-center text-foreground",children:w(r.dates)||"N/A"}),e.jsx(t,{className:"border border-border text-center",children:r.notes?e.jsx("div",{className:"max-w-24 truncate",title:r.notes,children:r.notes}):e.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),i(["payment-plans.show","payment-plans.edit","payment-plans.update","payment-plans.destroy","payment-plans.hide"])&&e.jsx(t,{className:"border border-border text-center",children:e.jsxs("div",{className:"flex gap-1 justify-center",children:[d("payment-plans.show")&&e.jsx(N,{href:route("payment-plans.show",r.id),data:a,preserveState:!0,preserveScroll:!0,children:e.jsx(o,{variant:"outline",size:"sm",title:"View",children:e.jsx(c,{className:"h-4 w-4"})})}),y(["payment-plans.update","payment-plans.edit"])&&e.jsx(o,{variant:"outline",size:"sm",onClick:()=>p(r),title:"Edit",children:e.jsx(S,{className:"h-4 w-4"})}),l&&!r.is_hidden&&e.jsx(o,{variant:"outline",size:"sm",onClick:f,className:"border-yellow-200 text-yellow-600 hover:bg-yellow-50 dark:border-yellow-900 dark:text-yellow-400 dark:hover:bg-yellow-950",title:"Hide",children:e.jsx(z,{className:"h-4 w-4"})}),l&&r.is_hidden&&e.jsx(o,{variant:"outline",size:"sm",onClick:j,className:"border-blue-200 text-blue-600 hover:bg-blue-50 dark:border-blue-900 dark:text-blue-400 dark:hover:bg-blue-950",title:"Unhide",children:e.jsx(c,{className:"h-4 w-4"})}),d("payment-plans.destroy")&&e.jsx(o,{variant:"outline",size:"sm",onClick:()=>h(r),className:"text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",title:"Delete",children:e.jsx(_,{className:"h-4 w-4"})})]})})]})}export{J as default};
