import{r as w,j as t,a as l}from"./app-DqMOGD98.js";import{C as N,a as _,b as S}from"./card-CSHkU0E3.js";import{B as r}from"./button-CnCxC_fs.js";import i from"./FilterInput-CNUl5dH9.js";import{S as b}from"./search-DmG9ZvIp.js";import{X as L}from"./x-yklQ_FSb.js";import"./app-Dca6SbuN.js";import"./utils-CBfrqCZ4.js";import"./index-BywuZfe1.js";import"./index-CdJFUDDL.js";import"./input-CHeP_7PN.js";import"./chevron-down-CVFkLqo9.js";import"./createLucideIcon-YTrgT1D8.js";function q({cities:d,properties:c,allUnits:p,tenantsData:m,initialFilters:n,perPage:u}){const[a,o]=w.useState({city:n?.city??"",property:n?.property??"",unit:n?.unit??"",tenant:n?.tenant??"",is_hidden:!!n?.is_hidden||!1}),s=(e,v)=>{o(g=>({...g,[e]:v}))},h=()=>{l.get(route("payment-plans.index"),{city:a.city||void 0,property:a.property||void 0,unit:a.unit||void 0,tenant:a.tenant||void 0,is_hidden:a.is_hidden?"true":void 0,per_page:u,page:1},{preserveState:!0,preserveScroll:!0})},f=()=>{o({city:"",property:"",unit:"",tenant:"",is_hidden:!1}),l.get(route("payment-plans.index"),{per_page:15,page:1},{preserveState:!1})},x=d.filter(e=>e.city.toLowerCase().includes(a.city.toLowerCase())),y=c.filter(e=>e.property_name.toLowerCase().includes(a.property.toLowerCase())),C=p.filter(e=>e.unit_name.toLowerCase().includes(a.unit.toLowerCase())),j=m.filter(e=>e.full_name.toLowerCase().includes(a.tenant.toLowerCase()));return t.jsxs(N,{className:"bg-card text-card-foreground shadow-lg",children:[t.jsxs(_,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-6",children:[t.jsx("div",{className:"md:col-span-1",children:t.jsx(i,{placeholder:"City",value:a.city,onChange:e=>s("city",e),options:x.map(e=>({id:e.id,name:e.city})),onSelect:e=>s("city",e.name)})}),t.jsx("div",{className:"md:col-span-1",children:t.jsx(i,{placeholder:"Property",value:a.property,onChange:e=>s("property",e),options:y.map(e=>({id:e.id,name:e.property_name})),onSelect:e=>s("property",e.name)})}),t.jsx("div",{className:"md:col-span-1",children:t.jsx(i,{placeholder:"Unit",value:a.unit,onChange:e=>s("unit",e),options:C.map(e=>({id:e.id,name:e.unit_name})),onSelect:e=>s("unit",e.name)})}),t.jsx("div",{className:"md:col-span-1",children:t.jsx(i,{placeholder:"Tenant",value:a.tenant,onChange:e=>s("tenant",e),options:j.map(e=>({id:e.id,name:e.full_name})),onSelect:e=>s("tenant",e.name)})}),t.jsx("div",{className:"md:col-span-2 flex items-center",children:t.jsxs("div",{className:"w-full flex items-center rounded-md border border-input bg-input p-1 h-10",children:[t.jsx(r,{type:"button",variant:a.is_hidden?"outline":"default",size:"sm",className:"flex-1 h-8",onClick:()=>s("is_hidden",!1),children:"Visible"}),t.jsx(r,{type:"button",variant:a.is_hidden?"default":"outline",size:"sm",className:"flex-1 h-8",onClick:()=>s("is_hidden",!0),children:"Hidden"})]})})]}),t.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end",children:[t.jsxs(r,{onClick:h,variant:"default",className:"w-full sm:w-auto",children:[t.jsx(b,{className:"mr-2 h-4 w-4"}),"Search"]}),t.jsxs(r,{onClick:f,variant:"outline",className:"w-full sm:w-auto",children:[t.jsx(L,{className:"mr-2 h-4 w-4"}),"Clear"]})]})]}),t.jsx(S,{className:"pt-0"})]})}export{q as default};
