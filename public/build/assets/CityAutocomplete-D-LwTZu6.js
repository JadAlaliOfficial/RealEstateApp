import{r as a,j as t}from"./app-DqMOGD98.js";import{I as c}from"./input-CHeP_7PN.js";import{P as d,a as f,b as h}from"./popover-XOewc--E.js";import{C as x,c as C,d as g,e as j}from"./command-BQtaQ7wa.js";import{C as v}from"./chevron-down-CVFkLqo9.js";import"./app-Dca6SbuN.js";import"./utils-CBfrqCZ4.js";import"./index-BywuZfe1.js";import"./index-CE-j_Hk-.js";import"./index-DV4B2SfL.js";import"./index-CIOEicCU.js";import"./index-D-mU1EC4.js";import"./index-TpMpjpzk.js";import"./index-B550RzFm.js";import"./index-Djaw7FEN.js";import"./search-DmG9ZvIp.js";import"./createLucideIcon-YTrgT1D8.js";const M=({cities:n,value:o,onChange:i,onSelect:m})=>{const[p,r]=a.useState(!1),s=a.useRef(null),l=a.useMemo(()=>o.trim()===""?n:n.filter(e=>e.city.toLowerCase().includes(o.toLowerCase())),[o,n]),u=e=>{m(e),r(!1),requestAnimationFrame(()=>s.current?.blur())};return t.jsxs(d,{open:p,onOpenChange:r,children:[t.jsx(f,{asChild:!0,children:t.jsxs("div",{className:"relative",onPointerDownCapture:e=>{e.preventDefault(),r(!0),requestAnimationFrame(()=>s.current?.focus())},onClick:e=>{e.preventDefault()},children:[t.jsx(c,{ref:s,type:"text",placeholder:"City",value:o,onChange:e=>{i(e.target.value),r(!0)},onFocus:()=>r(!0),className:"h-9 text-input-foreground bg-input pr-8"}),t.jsx(v,{className:"pointer-events-none absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]})}),t.jsx(h,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:t.jsxs(x,{children:[t.jsx(C,{children:"No city found."}),t.jsx(g,{className:"max-h-60 overflow-auto",children:l.map(e=>t.jsx(j,{value:e.city,onSelect:()=>u(e.city),children:e.city},e.id))})]})})]})};export{M as default};
