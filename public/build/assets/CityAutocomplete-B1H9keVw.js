import{r as a,j as t}from"./app-D539PDEN.js";import{I as c}from"./input-DQBwF3pd.js";import{P as d,a as f,b as h}from"./popover-uWV6s5Ev.js";import{C as x,b as C,d as g,e as j}from"./command-CjlHw1Dl.js";import{C as v}from"./chevron-down-B9OnTpGY.js";import"./app-DvnMLx2o.js";import"./utils-CBfrqCZ4.js";import"./index-CituRSkQ.js";import"./index-BA2VIff1.js";import"./index-Coh7aVBC.js";import"./index-DECShoH4.js";import"./index-u_jnU6es.js";import"./index-D9RoX9VL.js";import"./index-BtSfnK06.js";import"./index-MQL96Sqq.js";import"./search-Dil3k9X7.js";import"./createLucideIcon-4b2xxMBa.js";const M=({cities:n,value:o,onChange:i,onSelect:m})=>{const[p,r]=a.useState(!1),s=a.useRef(null),l=a.useMemo(()=>o.trim()===""?n:n.filter(e=>e.city.toLowerCase().includes(o.toLowerCase())),[o,n]),u=e=>{m(e),r(!1),requestAnimationFrame(()=>s.current?.blur())};return t.jsxs(d,{open:p,onOpenChange:r,children:[t.jsx(f,{asChild:!0,children:t.jsxs("div",{className:"relative",onPointerDownCapture:e=>{e.preventDefault(),r(!0),requestAnimationFrame(()=>s.current?.focus())},onClick:e=>{e.preventDefault()},children:[t.jsx(c,{ref:s,type:"text",placeholder:"City",value:o,onChange:e=>{i(e.target.value),r(!0)},onFocus:()=>r(!0),className:"h-9 text-input-foreground bg-input pr-8"}),t.jsx(v,{className:"pointer-events-none absolute right-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]})}),t.jsx(h,{className:"w-[--radix-popover-trigger-width] p-0",align:"start",children:t.jsxs(x,{children:[t.jsx(C,{children:"No city found."}),t.jsx(g,{className:"max-h-60 overflow-auto",children:l.map(e=>t.jsx(j,{value:e.city,onSelect:()=>u(e.city),children:e.city},e.id))})]})})]})};export{M as default};
